{
  "apiVersion": "v1",
  "data": {
    "monzo.tmpl": "# This builds the silence URL. We exclude the alertname in the range\n# to avoid the issue of having trailing comma separator (%2C) at the end\n# of the generated URL\n{{ define \"__alert_silence_link\" -}}\n    {{ .ExternalURL }}/#/silences/new?filter=%7B\n    {{- range .CommonLabels.SortedPairs -}}\n        {{- if ne .Name \"alertname\" -}}\n            {{- .Name }}%3D\"{{- .Value | urlquery -}}\"%2C%20\n        {{- end -}}\n    {{- end -}}\n    alertname%3D\"{{ .CommonLabels.alertname }}\"%7D\n{{- end }}\n\n{{ define \"__alert_severity_prefix\" -}}\n    {{ if ne .Status \"firing\" -}}\n    :lgtm:\n    {{- else if eq .Labels.severity \"critical\" -}}\n    :fire:\n    {{- else if eq .Labels.severity \"warning\" -}}\n    :warning:\n    {{- else -}}\n    :question:\n    {{- end }}\n{{- end }}\n\n{{ define \"__alert_severity_prefix_title\" -}}\n    {{ if ne .Status \"firing\" -}}\n    :lgtm:\n    {{- else if eq .CommonLabels.severity \"critical\" -}}\n    :fire:\n    {{- else if eq .CommonLabels.severity \"warning\" -}}\n    :warning:\n    {{- else if eq .CommonLabels.severity \"info\" -}}\n    :information_source:\n    {{- else -}}\n    :question:\n    {{- end }}\n{{- end }}\n\n\n{{/* First line of Slack alerts */}}\n{{ define \"slack.monzo.title\" -}}\n    [{{ .Status | toUpper -}}\n    {{ if eq .Status \"firing\" }}:{{ .Alerts.Firing | len }}{{- end -}}\n    ] {{ template \"__alert_severity_prefix_title\" . }} {{ .CommonLabels.alertname }}\n{{- end }}\n\n\n{{/* Color of Slack attachment (appears as line next to alert )*/}}\n{{ define \"slack.monzo.color\" -}}\n    {{ if eq .Status \"firing\" -}}\n        {{ if eq .CommonLabels.severity \"warning\" -}}\n            warning\n        {{- else if eq .CommonLabels.severity \"critical\" -}}\n            danger\n        {{- else -}}\n            #439FE0\n        {{- end -}}\n    {{ else -}}\n    good\n    {{- end }}\n{{- end }}\n\n{{/* Emoji to display as user icon (custom emoji supported!) */}}\n{{ define \"slack.monzo.icon_emoji\" }}:waitwhat:{{ end }}\n\n{{/* The test to display in the alert */}}\n{{ define \"slack.monzo.text\" -}}\n    {{ range .Alerts }}\n        {{- if .Annotations.message }}\n • {{ .Annotations.message }}\n        {{- end }}\n        {{- if .Annotations.description }}\n • {{ .Annotations.description }}\n        {{- end }}\n    {{- end }}\n{{- end }}\n\n{{ define \"slack.monzo.link_button_text\" -}}\n    {{- if .CommonAnnotations.link_text -}}\n        {{- .CommonAnnotations.link_text -}}\n    {{- else -}}\n        Link\n    {{- end }} :link:\n{{- end }}"
  },
  "kind": "ConfigMap",
  "metadata": {
    "labels": {
      "app.kubernetes.io/component": "victoria-metrics-k8s-stack-alertmanager",
      "app.kubernetes.io/instance": "victoria-metrics",
      "app.kubernetes.io/managed-by": "Helm",
      "app.kubernetes.io/name": "victoria-metrics-k8s-stack",
      "app.kubernetes.io/version": "v0.28.1",
      "helm.sh/chart": "victoria-metrics-k8s-stack-0.65.1",
      "k8s.joshcorp.co/app": "victoriametrics"
    },
    "name": "vmalertmanager-victoria-metrics-victoria-metrics-k8s-stack-monzo-tpl",
    "namespace": "victoria-metrics"
  }
}
